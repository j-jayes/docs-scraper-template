[ Model Context Protocol （MCP） ](https://modelcontextprotocol.info/)[Home ](https://modelcontextprotocol.info/)[Documentation ](https://modelcontextprotocol.info/docs/)[Specification ](https://modelcontextprotocol.info/specification/)[Tools ](https://modelcontextprotocol.info/tools/)[Blog](https://modelcontextprotocol.info/blog/)

`CTRL K`




`CTRL K`




  * [MCP Docs ](https://modelcontextprotocol.info/docs/)

    * [Understanding Model Context Protocol (MCP)](https://modelcontextprotocol.info/docs/introduction/)
    * [MCP Learning Path: From Zero to Hero](https://modelcontextprotocol.info/docs/learning-path/)
    * [Quickstart ](https://modelcontextprotocol.info/docs/quickstart/)

      * [Guide](https://modelcontextprotocol.info/docs/quickstart/guide/)
      * [For Server Developers](https://modelcontextprotocol.info/docs/quickstart/server/)
      * [For Client Developers](https://modelcontextprotocol.info/docs/quickstart/client/)
      * [Your First MCP Experience: 5-Minute Setup](https://modelcontextprotocol.info/docs/quickstart/user/)
      * [Quickstart](https://modelcontextprotocol.info/docs/quickstart/quickstart/)

    * [Core Concepts ](https://modelcontextprotocol.info/docs/concepts/)

      * [MCP Architecture: Design Philosophy & Engineering Principles](https://modelcontextprotocol.info/docs/concepts/architecture/)
      * [Prompts](https://modelcontextprotocol.info/docs/concepts/prompts/)
        * Overview
        * Prompt structure
        * Discovering prompts
        * Using prompts
        * Dynamic prompts
        * Example implementation
        * Best practices
        * UI integration
        * Updates and changes
        * Security considerations
      * [Resources](https://modelcontextprotocol.info/docs/concepts/resources/)
      * [Roots](https://modelcontextprotocol.info/docs/concepts/roots/)
      * [Sampling](https://modelcontextprotocol.info/docs/concepts/sampling/)
      * [Tools](https://modelcontextprotocol.info/docs/concepts/tools/)
      * [Transports](https://modelcontextprotocol.info/docs/concepts/transports/)

    * [MCP Tutorials: From Concept to Production ](https://modelcontextprotocol.info/docs/tutorials/)

      * [Building MCP with LLMs](https://modelcontextprotocol.info/docs/tutorials/building-mcp-with-llms/)
      * [Building MCP clients-Python](https://modelcontextprotocol.info/docs/tutorials/building-a-client/)
      * [Building MCP clients-Node.js](https://modelcontextprotocol.info/docs/tutorials/building-a-client-node/)
      * [Writing Effective Tools for Agents: Complete MCP Development Guide](https://modelcontextprotocol.info/docs/tutorials/writing-effective-tools/)

    * [MCP Server Ecosystem: From Proof-of-Concept to Production](https://modelcontextprotocol.info/docs/examples/)
    * [Clients](https://modelcontextprotocol.info/docs/clients/)
    * [MCP FAQ: Expert Answers to Real-World Questions](https://modelcontextprotocol.info/docs/faqs/)
    * [MCP Best Practices: Architecture & Implementation Guide](https://modelcontextprotocol.info/docs/best-practices/)
    * [SDK ](https://modelcontextprotocol.info/docs/sdk/)

      * [Java SDK ](https://modelcontextprotocol.info/docs/sdk/java/)

        * [Overview](https://modelcontextprotocol.info/docs/sdk/java/mcp-overview/)
        * [MCP Server](https://modelcontextprotocol.info/docs/sdk/java/mcp-server/)
        * [MCP Client](https://modelcontextprotocol.info/docs/sdk/java/mcp-client/)

    * [Build an MCP Client (Core)](https://modelcontextprotocol.info/docs/development/build-client/)

  * [Tools ](https://modelcontextprotocol.info/tools/)

    * [MCP Registry ](https://modelcontextprotocol.info/tools/registry/)

      * [Publish Your MCP Server](https://modelcontextprotocol.info/tools/registry/publishing/)
      * [Registry CLI Tool](https://modelcontextprotocol.info/tools/registry/cli/)
      * [GitHub Actions 自动化发布](https://modelcontextprotocol.info/tools/registry/github-actions/)
      * [消费 Registry 数据](https://modelcontextprotocol.info/tools/registry/consuming/)
      * [Registry FAQ](https://modelcontextprotocol.info/tools/registry/faq/)

    * [Debugging](https://modelcontextprotocol.info/tools/debugging/)
    * [Inspector](https://modelcontextprotocol.info/tools/inspector/)
    * [测试](https://modelcontextprotocol.info/tools/test/)

  * [Specification ](https://modelcontextprotocol.info/specification/)

    * [Specification (Draft) ](https://modelcontextprotocol.info/specification/draft/)

      * [Architecture](https://modelcontextprotocol.info/specification/draft/architecture/)
      * [Base Protocol ](https://modelcontextprotocol.info/specification/draft/basic/)

        * [Transports](https://modelcontextprotocol.info/specification/draft/basic/transports/)
        * [Authorization](https://modelcontextprotocol.info/specification/draft/basic/authorization/)
        * [Messages](https://modelcontextprotocol.info/specification/draft/basic/messages/)
        * [Lifecycle](https://modelcontextprotocol.info/specification/draft/basic/lifecycle/)
        * [Versioning](https://modelcontextprotocol.info/specification/draft/basic/versioning/)
        * [Utilities ](https://modelcontextprotocol.info/specification/draft/basic/utilities/)

          * [Ping](https://modelcontextprotocol.info/specification/draft/basic/utilities/ping/)
          * [Cancellation](https://modelcontextprotocol.info/specification/draft/basic/utilities/cancellation/)
          * [Progress](https://modelcontextprotocol.info/specification/draft/basic/utilities/progress/)

      * [Server Features ](https://modelcontextprotocol.info/specification/draft/server/)

        * [Prompts](https://modelcontextprotocol.info/specification/draft/server/prompts/)
        * [Resources](https://modelcontextprotocol.info/specification/draft/server/resources/)
        * [Tools](https://modelcontextprotocol.info/specification/draft/server/tools/)
        * [Utilities ](https://modelcontextprotocol.info/specification/draft/server/utilities/)

          * [Completion](https://modelcontextprotocol.info/specification/draft/server/utilities/completion/)
          * [Logging](https://modelcontextprotocol.info/specification/draft/server/utilities/logging/)
          * [Pagination](https://modelcontextprotocol.info/specification/draft/server/utilities/pagination/)

      * [Client Features ](https://modelcontextprotocol.info/specification/draft/client/)

        * [Roots](https://modelcontextprotocol.info/specification/draft/client/roots/)
        * [Sampling](https://modelcontextprotocol.info/specification/draft/client/sampling/)

      * [Contributions](https://modelcontextprotocol.info/specification/draft/contributing/)
      * [Revisions ](https://modelcontextprotocol.info/specification/draft/revisions/)

        * [2024-11-05 (Current)](https://modelcontextprotocol.info/specification/draft/revisions/2024-11-05/)

    * [Specification (Latest) ](https://modelcontextprotocol.info/specification/2024-11-05/)

      * [Architecture](https://modelcontextprotocol.info/specification/2024-11-05/architecture/)
      * [Base Protocol ](https://modelcontextprotocol.info/specification/2024-11-05/basic/)

        * [Messages](https://modelcontextprotocol.info/specification/2024-11-05/basic/messages/)
        * [Lifecycle](https://modelcontextprotocol.info/specification/2024-11-05/basic/lifecycle/)
        * [Transports](https://modelcontextprotocol.info/specification/2024-11-05/basic/transports/)
        * [Versioning](https://modelcontextprotocol.info/specification/2024-11-05/basic/versioning/)
        * [Utilities ](https://modelcontextprotocol.info/specification/2024-11-05/basic/utilities/)

          * [Ping](https://modelcontextprotocol.info/specification/2024-11-05/basic/utilities/ping/)
          * [Cancellation](https://modelcontextprotocol.info/specification/2024-11-05/basic/utilities/cancellation/)
          * [Progress](https://modelcontextprotocol.info/specification/2024-11-05/basic/utilities/progress/)

      * [Server Features ](https://modelcontextprotocol.info/specification/2024-11-05/server/)

        * [Prompts](https://modelcontextprotocol.info/specification/2024-11-05/server/prompts/)
        * [Resources](https://modelcontextprotocol.info/specification/2024-11-05/server/resources/)
        * [Tools](https://modelcontextprotocol.info/specification/2024-11-05/server/tools/)
        * [Utilities ](https://modelcontextprotocol.info/specification/2024-11-05/server/utilities/)

          * [Completion](https://modelcontextprotocol.info/specification/2024-11-05/server/utilities/completion/)
          * [Logging](https://modelcontextprotocol.info/specification/2024-11-05/server/utilities/logging/)
          * [Pagination](https://modelcontextprotocol.info/specification/2024-11-05/server/utilities/pagination/)

      * [Client Features ](https://modelcontextprotocol.info/specification/2024-11-05/client/)

        * [Roots](https://modelcontextprotocol.info/specification/2024-11-05/client/roots/)
        * [Sampling](https://modelcontextprotocol.info/specification/2024-11-05/client/sampling/)

      * [Contributions](https://modelcontextprotocol.info/specification/2024-11-05/contributing/)
      * [Revisions ](https://modelcontextprotocol.info/specification/2024-11-05/revisions/)

        * [2024-11-05 (Current)](https://modelcontextprotocol.info/specification/2024-11-05/revisions/2024-11-05/)

  * [MCP Protocol Blog ](https://modelcontextprotocol.info/blog/)

    * [Mastering MCP Tool Development: Unlocking AI Agent Potential](https://modelcontextprotocol.info/blog/writing-effective-mcp-tools/)
    * [Update on the Next MCP Protocol Release](https://modelcontextprotocol.info/blog/mcp-next-version-update/)
    * [Chrome DevTools MCP: Giving AI Coding Assistants Eyes to See Beyond Blind Programming](https://modelcontextprotocol.info/blog/chrome-devtools-mcp-ai-debugging/)
    * [Model Context Protocol (MCP): A New Standard for AI Application and External Data Integration](https://modelcontextprotocol.info/blog/mcp-guide/)
    * [一文读懂MCP协议：大模型AI-Agent的USB-C接口](https://modelcontextprotocol.info/blog/understanding-mcp-protocol/)

  * [About](https://modelcontextprotocol.info/about/)
  * More
  * [Docs ↗](https://modelcontextprotocol.info/docs/)
  * [Specification ↗](https://modelcontextprotocol.info/specification/)
  * [About](https://modelcontextprotocol.info/about)


  * [Understanding Model Context Protocol (MCP)](https://modelcontextprotocol.info/docs/introduction/)
  * [MCP Learning Path: From Zero to Hero](https://modelcontextprotocol.info/docs/learning-path/)
  * [Quickstart ](https://modelcontextprotocol.info/docs/quickstart/)

    * [Guide](https://modelcontextprotocol.info/docs/quickstart/guide/)
    * [For Server Developers](https://modelcontextprotocol.info/docs/quickstart/server/)
    * [For Client Developers](https://modelcontextprotocol.info/docs/quickstart/client/)
    * [Your First MCP Experience: 5-Minute Setup](https://modelcontextprotocol.info/docs/quickstart/user/)
    * [Quickstart](https://modelcontextprotocol.info/docs/quickstart/quickstart/)

  * [Core Concepts ](https://modelcontextprotocol.info/docs/concepts/)

    * [MCP Architecture: Design Philosophy & Engineering Principles](https://modelcontextprotocol.info/docs/concepts/architecture/)
    * [Prompts](https://modelcontextprotocol.info/docs/concepts/prompts/)
    * [Resources](https://modelcontextprotocol.info/docs/concepts/resources/)
    * [Roots](https://modelcontextprotocol.info/docs/concepts/roots/)
    * [Sampling](https://modelcontextprotocol.info/docs/concepts/sampling/)
    * [Tools](https://modelcontextprotocol.info/docs/concepts/tools/)
    * [Transports](https://modelcontextprotocol.info/docs/concepts/transports/)

  * [MCP Tutorials: From Concept to Production ](https://modelcontextprotocol.info/docs/tutorials/)

    * [Building MCP with LLMs](https://modelcontextprotocol.info/docs/tutorials/building-mcp-with-llms/)
    * [Building MCP clients-Python](https://modelcontextprotocol.info/docs/tutorials/building-a-client/)
    * [Building MCP clients-Node.js](https://modelcontextprotocol.info/docs/tutorials/building-a-client-node/)
    * [Writing Effective Tools for Agents: Complete MCP Development Guide](https://modelcontextprotocol.info/docs/tutorials/writing-effective-tools/)

  * [MCP Server Ecosystem: From Proof-of-Concept to Production](https://modelcontextprotocol.info/docs/examples/)
  * [Clients](https://modelcontextprotocol.info/docs/clients/)
  * [MCP FAQ: Expert Answers to Real-World Questions](https://modelcontextprotocol.info/docs/faqs/)
  * [MCP Best Practices: Architecture & Implementation Guide](https://modelcontextprotocol.info/docs/best-practices/)
  * [SDK ](https://modelcontextprotocol.info/docs/sdk/)

    * [Java SDK ](https://modelcontextprotocol.info/docs/sdk/java/)

      * [Overview](https://modelcontextprotocol.info/docs/sdk/java/mcp-overview/)
      * [MCP Server](https://modelcontextprotocol.info/docs/sdk/java/mcp-server/)
      * [MCP Client](https://modelcontextprotocol.info/docs/sdk/java/mcp-client/)

  * [Build an MCP Client (Core)](https://modelcontextprotocol.info/docs/development/build-client/)
  * More
  * [Docs ↗](https://modelcontextprotocol.info/docs/)
  * [Specification ↗](https://modelcontextprotocol.info/specification/)
  * [About](https://modelcontextprotocol.info/about)



English

  * [English](https://modelcontextprotocol.info/docs/concepts/prompts/)
  * [简体中文](https://modelcontextprotocol.info/zh-cn/docs/concepts/prompts/)
  * [繁體中文](https://modelcontextprotocol.info/zh-tw/docs/concepts/prompts/)
  * [한국어](https://modelcontextprotocol.info/ko/docs/concepts/prompts/)



  * Light 

  * Dark 

  * System 




On this page

  * Overview
  * Prompt structure
  * Discovering prompts
  * Using prompts
  * Dynamic prompts
  * Embedded resource context
  * Multi-step workflows
  * Example implementation
  * Best practices
  * UI integration
  * Updates and changes
  * Security considerations



Scroll to top

[MCP Docs](https://modelcontextprotocol.info/docs/)

[Core Concepts](https://modelcontextprotocol.info/docs/concepts/)

Prompts

# Prompts

Prompts enable servers to define reusable prompt templates and workflows that clients can easily surface to users and LLMs. They provide a powerful way to standardize and share common LLM interactions.

Prompts are designed to be **user-controlled**, meaning they are exposed from servers to clients with the intention of the user being able to explicitly select them for use.

## Overview

Prompts in MCP are predefined templates that can:

  * Accept dynamic arguments
  * Include context from resources
  * Chain multiple interactions
  * Guide specific workflows
  * Surface as UI elements (like slash commands)



## Prompt structure

Each prompt is defined with:
    
    
    {
      name: string;              // Unique identifier for the prompt
      description?: string;      // Human-readable description
      arguments?: [              // Optional list of arguments
        {
          name: string;          // Argument identifier
          description?: string;  // Argument description
          required?: boolean;    // Whether argument is required
        }
      ]
    }

## Discovering prompts

Clients can discover available prompts through the `prompts/list` endpoint:
    
    
    // Request
    {
      method: "prompts/list"
    }
    
    // Response
    {
      prompts: [
        {
          name: "analyze-code",
          description: "Analyze code for potential improvements",
          arguments: [
            {
              name: "language",
              description: "Programming language",
              required: true
            }
          ]
        }
      ]
    }

## Using prompts

To use a prompt, clients make a `prompts/get` request:
    
    
    // Request
    {
      method: "prompts/get",
      params: {
        name: "analyze-code",
        arguments: {
          language: "python"
        }
      }
    }
    
    // Response
    {
      description: "Analyze Python code for potential improvements",
      messages: [
        {
          role: "user",
          content: {
            type: "text",
            text: "Please analyze the following Python code for potential improvements:\n\n```python\ndef calculate_sum(numbers):\n    total = 0\n    for num in numbers:\n        total = total + num\n    return total\n\nresult = calculate_sum([1, 2, 3, 4, 5])\nprint(result)\n```"
          }
        }
      ]
    }

## Dynamic prompts

Prompts can be dynamic and include:

### Embedded resource context
    
    
    {
      "name": "analyze-project",
      "description": "Analyze project logs and code",
      "arguments": [
        {
          "name": "timeframe",
          "description": "Time period to analyze logs",
          "required": true
        },
        {
          "name": "fileUri",
          "description": "URI of code file to review",
          "required": true
        }
      ]
    }

When handling the `prompts/get` request:
    
    
    {
      "messages": [
        {
          "role": "user",
          "content": {
            "type": "text",
            "text": "Analyze these system logs and the code file for any issues:"
          }
        },
        {
          "role": "user",
          "content": {
            "type": "resource",
            "resource": {
              "uri": "logs://recent?timeframe=1h",
              "text": "[2024-03-14 15:32:11] ERROR: Connection timeout in network.py:127\n[2024-03-14 15:32:15] WARN: Retrying connection (attempt 2/3)\n[2024-03-14 15:32:20] ERROR: Max retries exceeded",
              "mimeType": "text/plain"
            }
          }
        },
        {
          "role": "user",
          "content": {
            "type": "resource",
            "resource": {
              "uri": "file:///path/to/code.py",
              "text": "def connect_to_service(timeout=30):\n    retries = 3\n    for attempt in range(retries):\n        try:\n            return establish_connection(timeout)\n        except TimeoutError:\n            if attempt == retries - 1:\n                raise\n            time.sleep(5)\n\ndef establish_connection(timeout):\n    # Connection implementation\n    pass",
              "mimeType": "text/x-python"
            }
          }
        }
      ]
    }

### Multi-step workflows
    
    
    const debugWorkflow = {
      name: "debug-error",
      async getMessages(error: string) {
        return [
          {
            role: "user",
            content: {
              type: "text",
              text: `Here's an error I'm seeing: ${error}`
            }
          },
          {
            role: "assistant",
            content: {
              type: "text",
              text: "I'll help analyze this error. What have you tried so far?"
            }
          },
          {
            role: "user",
            content: {
              type: "text",
              text: "I've tried restarting the service, but the error persists."
            }
          }
        ];
      }
    };

## Example implementation

Here's a complete example of implementing prompts in an MCP server:

TypeScriptPython
    
    
        import { Server } from "@modelcontextprotocol/sdk/server";
        import {
          ListPromptsRequestSchema,
          GetPromptRequestSchema
        } from "@modelcontextprotocol/sdk/types";
    
        const PROMPTS = {
          "git-commit": {
            name: "git-commit",
            description: "Generate a Git commit message",
            arguments: [
              {
                name: "changes",
                description: "Git diff or description of changes",
                required: true
              }
            ]
          },
          "explain-code": {
            name: "explain-code",
            description: "Explain how code works",
            arguments: [
              {
                name: "code",
                description: "Code to explain",
                required: true
              },
              {
                name: "language",
                description: "Programming language",
                required: false
              }
            ]
          }
        };
    
        const server = new Server({
          name: "example-prompts-server",
          version: "1.0.0"
        }, {
          capabilities: {
            prompts: {}
          }
        });
    
        // List available prompts
        server.setRequestHandler(ListPromptsRequestSchema, async () => {
          return {
            prompts: Object.values(PROMPTS)
          };
        });
    
        // Get specific prompt
        server.setRequestHandler(GetPromptRequestSchema, async (request) => {
          const prompt = PROMPTS[request.params.name];
          if (!prompt) {
            throw new Error(`Prompt not found: ${request.params.name}`);
          }
    
          if (request.params.name === "git-commit") {
            return {
              messages: [
                {
                  role: "user",
                  content: {
                    type: "text",
                    text: `Generate a concise but descriptive commit message for these changes:\n\n${request.params.arguments?.changes}`
                  }
                }
              ]
            };
          }
    
          if (request.params.name === "explain-code") {
            const language = request.params.arguments?.language || "Unknown";
            return {
              messages: [
                {
                  role: "user",
                  content: {
                    type: "text",
                    text: `Explain how this ${language} code works:\n\n${request.params.arguments?.code}`
                  }
                }
              ]
            };
          }
    
          throw new Error("Prompt implementation not found");
        });
    
    
        from mcp.server import Server
        import mcp.types as types
    
        # Define available prompts
        PROMPTS = {
            "git-commit": types.Prompt(
                name="git-commit",
                description="Generate a Git commit message",
                arguments=[
                    types.PromptArgument(
                        name="changes",
                        description="Git diff or description of changes",
                        required=True
                    )
                ],
            ),
            "explain-code": types.Prompt(
                name="explain-code",
                description="Explain how code works",
                arguments=[
                    types.PromptArgument(
                        name="code",
                        description="Code to explain",
                        required=True
                    ),
                    types.PromptArgument(
                        name="language",
                        description="Programming language",
                        required=False
                    )
                ],
            )
        }
    
        # Initialize server
        app = Server("example-prompts-server")
    
        @app.list_prompts()
        async def list_prompts() -> list[types.Prompt]:
            return list(PROMPTS.values())
    
        @app.get_prompt()
        async def get_prompt(
            name: str, arguments: dict[str, str] | None = None
        ) -> types.GetPromptResult:
            if name not in PROMPTS:
                raise ValueError(f"Prompt not found: {name}")
    
            if name == "git-commit":
                changes = arguments.get("changes") if arguments else ""
                return types.GetPromptResult(
                    messages=[
                        types.PromptMessage(
                            role="user",
                            content=types.TextContent(
                                type="text",
                                text=f"Generate a concise but descriptive commit message "
                                f"for these changes:\n\n{changes}"
                            )
                        )
                    ]
                )
    
            if name == "explain-code":
                code = arguments.get("code") if arguments else ""
                language = arguments.get("language", "Unknown") if arguments else "Unknown"
                return types.GetPromptResult(
                    messages=[
                        types.PromptMessage(
                            role="user",
                            content=types.TextContent(
                                type="text",
                                text=f"Explain how this {language} code works:\n\n{code}"
                            )
                        )
                    ]
                )
    
            raise ValueError("Prompt implementation not found")

## Best practices

When implementing prompts:

  1. Use clear, descriptive prompt names
  2. Provide detailed descriptions for prompts and arguments
  3. Validate all required arguments
  4. Handle missing arguments gracefully
  5. Consider versioning for prompt templates
  6. Cache dynamic content when appropriate
  7. Implement error handling
  8. Document expected argument formats
  9. Consider prompt composability
  10. Test prompts with various inputs



## UI integration

Prompts can be surfaced in client UIs as:

  * Slash commands
  * Quick actions
  * Context menu items
  * Command palette entries
  * Guided workflows
  * Interactive forms



## Updates and changes

Servers can notify clients about prompt changes:

  1. Server capability: `prompts.listChanged`
  2. Notification: `notifications/prompts/list_changed`
  3. Client re-fetches prompt list



## Security considerations

When implementing prompts:

  * Validate all arguments
  * Sanitize user input
  * Consider rate limiting
  * Implement access controls
  * Audit prompt usage
  * Handle sensitive data appropriately
  * Validate generated content
  * Implement timeouts
  * Consider prompt injection risks
  * Document security requirements



[MCP Architecture: Design Philosophy & Engineering Principles](https://modelcontextprotocol.info/docs/concepts/architecture/ "MCP Architecture: Design Philosophy & Engineering Principles")[Resources](https://modelcontextprotocol.info/docs/concepts/resources/ "Resources")

[Model Context Protocol Hub ](https://modelcontextprotocol.info "Model Context Protocol")[MCP 中文站 ](https://mcpcn.com "MCP 中文社区")[A2A Protocol ](https://a2acn.com "A2A Protocol Community")[AP2 Lab ](https://ap2lab.com "Agent Payments Protocol Community")[ACP Protocol ](https://acplib.com "Agentic Commerce Protocol Community")[Agent2Agent 文档 ](https://agent2agent.info "Agent2Agent Protocol")[AI to Sora ](https://aitosora.com "AI to Sora")[ChatGPT 中文](https://chatgptcn.com "ChatGPT 中文社区")

[Powered by ModelContextProtocol](https://github.com/imfing/hextra "Hextra GitHub Homepage")

© 2024 ModelContextProtocol.Info.
