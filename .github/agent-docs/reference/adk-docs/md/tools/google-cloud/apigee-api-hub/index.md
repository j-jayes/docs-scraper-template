Skip to content 

[ ](../../.. "Agent Development Kit")

[ Agent Development Kit ](../../.. "Agent Development Kit")

Apigee API Hub 

Initializing search 




[ adk-python  ](https://github.com/google/adk-python "adk-python") [ adk-js  ](https://github.com/google/adk-js "adk-js") [ adk-go  ](https://github.com/google/adk-go "adk-go") [ adk-java  ](https://github.com/google/adk-java "adk-java")

[ adk-python  ](https://github.com/google/adk-python "adk-python") [ adk-js  ](https://github.com/google/adk-js "adk-js") [ adk-go  ](https://github.com/google/adk-go "adk-go") [ adk-java  ](https://github.com/google/adk-java "adk-java")

  * [ Home  ](../../..)

Home 
  * Build Agents  Build Agents 
    * [ Get Started  ](../../../get-started/)

Get Started 
      * [ Python  ](../../../get-started/python/)
      * [ TypeScript  ](../../../get-started/typescript/)
      * [ Go  ](../../../get-started/go/)
      * [ Java  ](../../../get-started/java/)
    * [ Build your Agent  ](../../../tutorials/)

Build your Agent 
      * [ Multi-tool agent  ](../../../get-started/quickstart/)
      * [ Agent team  ](../../../tutorials/agent-team/)
      * [ Streaming agent  ](../../../get-started/streaming/)

Streaming agent 
        * [ Python  ](../../../get-started/streaming/quickstart-streaming/)
        * [ Java  ](../../../get-started/streaming/quickstart-streaming-java/)
      * [ Visual Builder  ](../../../visual-builder/)
      * [ Coding with AI  ](../../../tutorials/coding-with-ai/)
      * [ Advanced setup  ](../../../get-started/installation/)
    * [ Agents  ](../../../agents/)

Agents 
      * [ LLM agents  ](../../../agents/llm-agents/)
      * [ Workflow agents  ](../../../agents/workflow-agents/)

Workflow agents 
        * [ Sequential agents  ](../../../agents/workflow-agents/sequential-agents/)
        * [ Loop agents  ](../../../agents/workflow-agents/loop-agents/)
        * [ Parallel agents  ](../../../agents/workflow-agents/parallel-agents/)
      * [ Custom agents  ](../../../agents/custom-agents/)
      * [ Multi-agent systems  ](../../../agents/multi-agents/)
      * [ Agent Config  ](../../../agents/config/)
      * [ Models & Authentication  ](../../../agents/models/)
    * [ Tools for Agents  ](../../)

Tools for Agents 
      * [ Gemini API tools  ](../../gemini-api/)

Gemini API tools 
        * [ Code Execution  ](../../gemini-api/code-execution/)
        * [ Computer use  ](../../gemini-api/computer-use/)
        * [ Google Search  ](../../gemini-api/google-search/)
      * [ Google Cloud tools  ](../)

Google Cloud tools 
        * Apigee API Hub  [ Apigee API Hub  ](./) Table of contents 
          * Create an API Hub Toolset 
        * [ Application Integration  ](../application-integration/)
        * [ BigQuery  ](../bigquery/)
        * [ Bigtable  ](../bigtable/)
        * [ Cloud API Registry  ](../api-registry/)
        * [ Code Execution with Agent Engine  ](../code-exec-agent-engine/)
        * [ GKE Code Executor  ](../gke-code-executor/)
        * [ MCP Toolbox for Databases  ](../mcp-toolbox-for-databases/)
        * [ RAG Engine  ](../vertex-ai-rag-engine/)
        * [ Spanner  ](../spanner/)
        * [ Vertex AI Search  ](../vertex-ai-search/)
      * [ Third-party tools  ](../../third-party/)

Third-party tools 
        * [ Atlassian  ](../../third-party/atlassian/)
        * [ GitHub  ](../../third-party/github/)
        * [ GitLab  ](../../third-party/gitlab/)
        * [ Hugging Face  ](../../third-party/hugging-face/)
        * [ Linear  ](../../third-party/linear/)
        * [ n8n  ](../../third-party/n8n/)
        * [ Notion  ](../../third-party/notion/)
        * [ PayPal  ](../../third-party/paypal/)
        * [ Qdrant  ](../../third-party/qdrant/)
        * [ Agentic UI (AG-UI)  ](../../third-party/ag-ui/)
      * [ Tool limitations  ](../../limitations/)
    * [ Custom Tools  ](../../../tools-custom/)

Custom Tools 
      * Function tools  Function tools 
        * [ Overview  ](../../../tools-custom/function-tools/)
        * [ Tool performance  ](../../../tools-custom/performance/)
        * [ Action confirmations  ](../../../tools-custom/confirmation/)
      * [ MCP tools  ](../../../tools-custom/mcp-tools/)
      * [ OpenAPI tools  ](../../../tools-custom/openapi-tools/)
      * [ Authentication  ](../../../tools-custom/authentication/)
  * Run Agents  Run Agents 
    * [ Agent Runtime  ](../../../runtime/)

Agent Runtime 
      * [ Runtime Config  ](../../../runtime/runconfig/)
      * [ API Server  ](../../../runtime/api-server/)
      * [ Resume Agents  ](../../../runtime/resume/)
    * [ Deployment  ](../../../deploy/)

Deployment 
      * [ Agent Engine  ](../../../deploy/agent-engine/)

Agent Engine 
        * [ Standard deployment  ](../../../deploy/agent-engine/deploy/)
        * [ Agent Starter Pack  ](../../../deploy/agent-engine/asp/)
        * [ Test deployed agents  ](../../../deploy/agent-engine/test/)
      * [ Cloud Run  ](../../../deploy/cloud-run/)
      * [ GKE  ](../../../deploy/gke/)
    * Observability  Observability 
      * [ Logging  ](../../../observability/logging/)
      * [ Cloud Trace  ](../../../observability/cloud-trace/)
      * [ BigQuery Agent Analytics  ](../../../observability/bigquery-agent-analytics/)
      * [ AgentOps  ](../../../observability/agentops/)
      * [ Arize AX  ](../../../observability/arize-ax/)
      * [ Freeplay  ](../../../observability/freeplay/)
      * [ MLflow  ](../../../observability/mlflow/)
      * [ Monocle  ](../../../observability/monocle/)
      * [ Phoenix  ](../../../observability/phoenix/)
      * [ W&B; Weave  ](../../../observability/weave/)
    * [ Evaluation  ](../../../evaluate/)

Evaluation 
      * [ Criteria  ](../../../evaluate/criteria/)
      * [ User Simulation  ](../../../evaluate/user-sim/)
    * [ Safety and Security  ](../../../safety/)

Safety and Security 
  * Components  Components 
    * [ Technical Overview  ](../../../get-started/about/)
    * [ Context  ](../../../context/)

Context 
      * [ Context caching  ](../../../context/caching/)
      * [ Context compression  ](../../../context/compaction/)
    * [ Sessions & Memory  ](../../../sessions/)

Sessions & Memory 
      * Sessions  Sessions 
        * [ Overview  ](../../../sessions/session/)
        * [ Rewind sessions  ](../../../sessions/rewind/)
      * [ State  ](../../../sessions/state/)
      * [ Memory  ](../../../sessions/memory/)
      * [ Vertex AI Express Mode  ](../../../sessions/express-mode/)
    * [ Callbacks  ](../../../callbacks/)

Callbacks 
      * [ Types of callbacks  ](../../../callbacks/types-of-callbacks/)
      * [ Callback patterns  ](../../../callbacks/design-patterns-and-best-practices/)
    * [ Artifacts  ](../../../artifacts/)

Artifacts 
    * [ Events  ](../../../events/)

Events 
    * [ Apps  ](../../../apps/)

Apps 
    * [ Plugins  ](../../../plugins/)

Plugins 
      * [ Reflect and retry  ](../../../plugins/reflect-and-retry/)
    * [ MCP  ](../../../mcp/)

MCP 
    * [ A2A Protocol  ](../../../a2a/)

A2A Protocol 
      * [ Introduction to A2A  ](../../../a2a/intro/)
      * A2A Quickstart (Exposing)  A2A Quickstart (Exposing) 
        * [ Python  ](../../../a2a/quickstart-exposing/)
        * [ Go  ](../../../a2a/quickstart-exposing-go/)
      * A2A Quickstart (Consuming)  A2A Quickstart (Consuming) 
        * [ Python  ](../../../a2a/quickstart-consuming/)
        * [ Go  ](../../../a2a/quickstart-consuming-go/)
    * [ Bidi-streaming (live)  ](../../../streaming/)

Bidi-streaming (live) 
      * Bidi-streaming development guide series  Bidi-streaming development guide series 
        * [ Part 1. Intro to streaming  ](../../../streaming/dev-guide/part1/)
        * [ Part 2. Sending messages  ](../../../streaming/dev-guide/part2/)
        * [ Part 3. Event handling  ](../../../streaming/dev-guide/part3/)
        * [ Part 4. Run configuration  ](../../../streaming/dev-guide/part4/)
        * [ Part 5. Audio, Images, and Video  ](../../../streaming/dev-guide/part5/)
      * [ Streaming Tools  ](../../../streaming/streaming-tools/)
      * [ Configuring Bidi-streaming behavior  ](../../../streaming/configuration/)
    * Grounding  Grounding 
      * [ Understanding Google Search Grounding  ](../../../grounding/google_search_grounding/)
      * [ Understanding Vertex AI Search Grounding  ](../../../grounding/vertex_ai_search_grounding/)
  * Reference  Reference 
    * [ Release Notes  ](../../../release-notes/)
    * [ API Reference  ](../../../api-reference/)

API Reference 
      * [ Python ADK  ](../../../api-reference/python/)
      * [ Typescript ADK  ](../../../api-reference/typescript/)
      * [ Go ADK  ](https://pkg.go.dev/google.golang.org/adk)
      * [ Java ADK  ](../../../api-reference/java/)
      * [ CLI Reference  ](../../../api-reference/cli/)
      * [ Agent Config Reference  ](../../../api-reference/agentconfig/)
      * [ REST API  ](../../../api-reference/rest/)
    * [ Community Resources  ](../../../community/)
    * [ Contributing Guide  ](../../../contributing-guide/)



Table of contents 

  * Create an API Hub Toolset 



  1. [ Build Agents  ](../../../get-started/)
  2. [ Tools for Agents  ](../../)
  3. [ Google Cloud tools  ](../)

[ ](https://github.com/google/adk-docs/edit/main/docs/tools/google-cloud/apigee-api-hub.md "Edit this page") [ ](https://github.com/google/adk-docs/raw/main/docs/tools/google-cloud/apigee-api-hub.md "View source of this page")

# Apigee API Hub tools for ADK¶

Supported in ADKPython v0.1.0

**ApiHubToolset** lets you turn any documented API from Apigee API hub into a tool with a few lines of code. This section shows you the step by step instructions including setting up authentication for a secure connection to your APIs.

**Prerequisites**

  1. [Install ADK](/adk-docs/get-started/installation/)
  2. Install the [Google Cloud CLI](https://cloud.google.com/sdk/docs/install?db=bigtable-docs#installation_instructions).
  3. [Apigee API hub](https://cloud.google.com/apigee/docs/apihub/what-is-api-hub) instance with documented (i.e. OpenAPI spec) APIs
  4. Set up your project structure and create required files


    
    
    project_root_folder
     |
     `-- my_agent
         |-- .env
         |-- __init__.py
         |-- agent.py
         `__ tool.py
    

## Create an API Hub Toolset¶

Note: This tutorial includes an agent creation. If you already have an agent, you only need to follow a subset of these steps.

  1. Get your access token, so that APIHubToolset can fetch spec from API Hub API. In your terminal run the following command
         
         gcloud auth print-access-token
         # Prints your access token like 'ya29....'
         

  2. Ensure that the account used has the required permissions. You can use the pre-defined role `roles/apihub.viewer` or assign the following permissions:

     1. **apihub.specs.get (required)**
     2. apihub.apis.get (optional)
     3. apihub.apis.list (optional)
     4. apihub.versions.get (optional)
     5. apihub.versions.list (optional)
     6. apihub.specs.list (optional)
  3. Create a tool with `APIHubToolset`. Add the below to `tools.py`

If your API requires authentication, you must configure authentication for the tool. The following code sample demonstrates how to configure an API key. ADK supports token based auth (API Key, Bearer token), service account, and OpenID Connect. We will soon add support for various OAuth2 flows.
         
         from google.adk.tools.openapi_tool.auth.auth_helpers import token_to_scheme_credential
         from google.adk.tools.apihub_tool.apihub_toolset import APIHubToolset
         
         # Provide authentication for your APIs. Not required if your APIs don't required authentication.
         auth_scheme, auth_credential = token_to_scheme_credential(
             "apikey", "query", "apikey", apikey_credential_str
         )
         
         sample_toolset = APIHubToolset(
             name="apihub-sample-tool",
             description="Sample Tool",
             access_token="...",  # Copy your access token generated in step 1
             apihub_resource_name="...", # API Hub resource name
             auth_scheme=auth_scheme,
             auth_credential=auth_credential,
         )
         

For production deployment we recommend using a service account instead of an access token. In the code snippet above, use `service_account_json=service_account_cred_json_str` and provide your security account credentials instead of the token.

For apihub_resource_name, if you know the specific ID of the OpenAPI Spec being used for your API, use ``projects/my-project-id/locations/us-west1/apis/my-api-id/versions/version-id/specs/spec-id``. If you would like the Toolset to automatically pull the first available spec from the API, use ``projects/my-project-id/locations/us-west1/apis/my-api-id``

  4. Create your agent file Agent.py and add the created tools to your agent definition:
         
         from google.adk.agents.llm_agent import LlmAgent
         from .tools import sample_toolset
         
         root_agent = LlmAgent(
             model='gemini-2.0-flash',
             name='enterprise_assistant',
             instruction='Help user, leverage the tools you have access to',
             tools=sample_toolset.get_tools(),
         )
         

  5. Configure your `__init__.py` to expose your agent
         
         from . import agent
         

  6. Start the Google ADK Web UI and try your agent:
         
         # make sure to run `adk web` from your project_root_folder
         adk web
         




Then go to <http://localhost:8000> to try your agent from the Web UI.

Back to top  [ Previous  Google Cloud Tools  ](../) [ Next  Application Integration  ](../application-integration/)

Copyright Google 2025  |  [Terms](//policies.google.com/terms)  |  [Privacy](//policies.google.com/privacy)  |  Manage cookies

Made with [ Material for MkDocs ](https://squidfunk.github.io/mkdocs-material/)

#### Cookie consent

We use cookies to recognize repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find the information they need. With your consent, you're helping us to make our documentation better.

  * Google Analytics 
  * GitHub 



Accept Manage settings
